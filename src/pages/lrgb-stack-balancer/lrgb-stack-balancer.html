<h5>LRGB Stack Balancer</h5>
<div class="row pt-3">
  <div class="col">
    <input id="fileopen" type="file" data-bind="event: { change: readFiles }" accept=".fits,.fit,.fts" multiple>
  </div>
</div>
<div class="row pt-3">
  <div class="col">
    Luminance Total Integration Time (m):
  </div>
</div>
<div class="row align-items-center">
  <div class="col-2">
    <input type="text" class="form-control" id="luminanceAdjustedTotalIntegrationTime" data-bind="value: luminanceAdjustedTotalIntegrationTime, valueUpdate: 'input'">
  </div>
  <div class="col-2">
    <span class="text-danger" data-bind="visible: luminanceViolation">Too few frames!</span>
  </div>
</div>
<div class="row pt-3">
  <div class="col">
    Color Total Integration Time (m):
  </div>
</div>
<div class="row align-items-center">
  <div class="col-2">
    <input type="text" class="form-control" id="colorAdjustedTotalIntegrationTime" data-bind="value: colorAdjustedTotalIntegrationTime, valueUpdate: 'input'">
  </div>
  <div class="col-2">
    <span class="text-danger" data-bind="visible: colorViolation">Too few frames!</span>
  </div>
</div>
<div class="row pt-3">
  <div class="col">
    Red Ratio:
  </div>
</div>
<div class="row align-items-center">
  <div class="col-2">
    <input type="text" class="form-control" id="redRatio" data-bind="value: redRatio, valueUpdate: 'input'">
  </div>
  <div class="col-3">
    <span class="text-danger" data-bind="visible: redViolation">Too few red frames!</span>
  </div>
</div>
<div class="row pt-3">
  <div class="col">
    Green Ratio:
  </div>
</div>
<div class="row align-items-center">
  <div class="col-2">
    <input type="text" class="form-control" id="greenRatio" data-bind="value: greenRatio, valueUpdate: 'input'">
  </div>
  <div class="col-3">
    <span class="text-danger" data-bind="visible: greenViolation">Too few green frames!</span>
  </div>
</div>
<div class="row pt-3">
  <div class="col">
    Blue Ratio:
  </div>
</div>
<div class="row align-items-center">
  <div class="col-2">
    <input type="text" class="form-control" id="blueRatio" data-bind="value: blueRatio, valueUpdate: 'input'">
  </div>
  <div class="col-3">
    <span class="text-danger" data-bind="visible: blueViolation">Too few blue frames!</span>
  </div>
</div>
<div class="row pt-3">
  <div class="col">
    <button type="button" class="btn btn-success" data-bind="click: exportIt">Export!</button>
  </div>
</div>
<div data-bind="foreach: stagedFiles" style="font-size: 0.9rem;">
  <div class="row pt-3 border-bottom border-light">
    <div class="col-12">
      <span data-bind="text: filename, css: { 'bg-primary': selected() }"></span>
    </div>
  </div>
  <div class="row border-bottom border-light">
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Object:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: objectName"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Date:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: dateObs"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Instrument:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: instrument"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="row border-bottom border-light">
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>RA:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: objectRA"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Latitude:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: siteLat"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Filter:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: filter"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="row border-bottom border-light">
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>DEC:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: objectDEC"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Longitude:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: siteLong"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Exposure:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: expTime"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="row border-bottom border-light">
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Altitude:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: altitudeFmt"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Airmass:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: airmassFmt"></span>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col-md-4">
          <span>Extinction:</span>
        </div>
        <div class="col-md-auto">
          <span data-bind="text: extinctionFmt"></span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modal-export" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button id="content-export-button" class="btn" data-toggle="tooltip" data-clipboard-target="#content-export">
          <i class="fas fa-copy"></i>
        </button>
        <h5 class="modal-title" id="exampleModalLabel">Export</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <textarea class="form-control" id="content-export" rows="20"></textarea>
      </div>
    </div>
  </div>
</div>
